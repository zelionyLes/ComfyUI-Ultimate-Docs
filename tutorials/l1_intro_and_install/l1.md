# Lesson 1: Diffusion Models, Stable Diffusion, ComfyUI

AI systems capable of generating images have been around for a while already, but only in 2020, a barely known back then class of machine learning models has emerged. What we're talking about are the Diffusion Models that allowed generating images of a much higher quality than any other existing type of models before. DALL-E 2 being the first to hit the mainstream due to its easy usage and meme potential; has shown to the large audience that it is quite possible for anyone to just type in some text of what they'd like to see and retrieve a nice synthetic image. DALL-E is far from being the focus of this project, as it has three significant drawbacks: 

* it's proprietary software with a limited free functionality
* poor control over the generation process, the user is limited to only guiding the AI with a text prompt
* it only runs on the server of a service provider (e.g. Microsoft Bing)

That's why here we'll be talking about Stable Diffusion - an open-source diffusion model with a huge community that is free to use, can be deployed locally if you have a decent PC, and offers an infinity of ways to control the generation, allowing you to really get what you want from the AI.

It has been released for the first time largely released back in 2022 and a lot of stuff has happened to this model during 2 years of its current lifetime. Countless versions, flavors, user interfaces... When it all started, all you had available is one single Stable Diffusion (later SD) model and a set of Python commands to run its capabilities. There is a ton of information on the Web on how to install and operate a specific user interface for SD, but this set of tutorials will be focused on ComfyUI - currently the most popular and capable UI for SD. 

Currently there are two user intrfaces preferred by the majority of SD users:

1. **Stable Diffusion WebUI, also called Automatic 1111 (commonly referred to as simply a1111)** - a reatively simple web interface that was the first breakthrough in terms of SD usability
2. **ComfyUI** - a node-based web interface that revolves around portability and multitasking. Unlike a1111, ComfyUI allows much more stuff to be present on the screen at the same time, being much more versatile, but at the same time, appears to be much messier than a1111


&nbsp;


## To see the differences between these two interfaces, check the two screenshots below:

![a1111 screenshot](images/a1111_screenshot.jpeg){width=75%}  
*here's how Automatic 1111 UI looks*

![ComfyUI screenshot](images/comfyui_screenshot.png){width=75%}  
*and here's ComfyUI*


While for a newbie both UIs might seem quite intimidating and overwhelming, trust me: a1111 is inherently much more straightforward and has a relatively mild learning curve if compared with ComfyUI. Thing is, ComfyUI makes you assemble each workflow from scratch and there is absolutely nothing that could ever limit you. On the other hand, a1111 always presents you a set of default functionalities that will be useful in almost any scenario you'll ever deal with. Although generally good for newcomers, a1111 has huge drawbacks in terms of optimisation. The same functionality will work much faster in ComfyUI. Also, a1111 has no possible ability to have multiple workflows running on a single server instance (well, you could open several browser tabs, but that's gonna suck).

That being said, the focus of these guides will be ComfyUI. My personal goal is to teach a complete n00b how to do AI art the right way.

As it was mentioned earlier, one of the biggest advantages of SD is the fact that you can run it locally, given you have a decent rig. My personal recommendation for being comfortable with most things SD can offer is a stationary gaming PC with an Nvidia GPU at least as good as **RTX 3060 12GB _(VRAM in SD does a lot of heavy lifting, hence 3060 sometimes can beat more powerful, but narrower in terms of memory GPUs such as 3070 or 3070TI)_**

***

## Installing ComfyUI on your local PC 

Although the easiest way to guide you through the installation of ComfyUI would be to simply force you access their <ins>[Official Repo](https://github.com/comfyanonymous/ComfyUI)</ins> to get the freshest installation steps, this guide's book-like format makes me want to offer a more exhaustive, albeit Windows-only walkthrough.  
Nevertheless, currently (as of July 2024), there are 3 ways one could have ComfyUI up and running on their machine:  

1. **Portable version**
2. **Full local installation with manual dependency management**
3. **Full local installation using Pinokio**

Let's see what are the pros and cons of using each method:

1. Portable ComfyUI
	| Pros  | Cons  |
	|:-:|:-:|
	|  \* Most used | \* Sometimes causes issues with conflicting custom nodes  |
	| \* Very easy to follow  | \* Any dependency issue requires you to dig into Python venv  |
	| \* Agnostic of your main Python version  |  \* Useful Python deps installed outside this ComfyUI distro won't be detected and vice versa | 
	| \* Doesn't require additional software  |   | 
	&nbsp;
2. Full local install
	|  Pro |  Cons |
	|:-:|:-:|
	|  \* Full control over what is installed on your pc | \* Might be extremely overwhelming for newcomers  |
	| \* The way to go on non-Windows platforms  | \* manual and tedious installation process  |
	|   |  \* requires GIT  | 
	&nbsp;
3. Using Pinokio AI browser
	|  Pro |  Cons |
	|:-:|:-:|
	|  \* According to the reviews, get everything in one click | \* Relatively new, hence less known and trustworthy   |
	| \* Get access to lots of AI tools besides Stable Diffusion  | \* Still a 3rd party software necessary  |
	|  \* Doesn't cause conflicting custo nodes |   | 
	&nbsp;

Most popular go-to solution to this day has been the first variant, a portable installation. It saves 